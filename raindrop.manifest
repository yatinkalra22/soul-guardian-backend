application "soul_guardian_backend" {
  // === Databases ===
  smartsql "smart_db" {}

  // === Storage ===
  smartbucket "avatar_bucket" {}

  // === Services ===
  service "api" {
    visibility = "public"

    domain {
      cname = "api-soul-guardian"
    }

    env "WORKOS_CLIENT_ID" {
      secret = true
    }
    env "WORKOS_CLIENT_SECRET" {
      secret = true
    }
    env "WORKOS_COOKIE_PASSWORD" {
      secret = true
    }
    env "ALLOWED_ORIGINS" {
      secret = false
    }
  }
}